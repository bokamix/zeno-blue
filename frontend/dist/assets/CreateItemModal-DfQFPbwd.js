import{z as $,r as m,b as x,o as k,e as c,i as f,l as r,B as V,p as h,A as n,C,D as y,K as N}from"./vue-core-Chol9MOc.js";const S={class:"glass-solid rounded-2xl p-6 max-w-sm w-full animate-modal-enter"},B={class:"text-lg font-semibold text-[var(--text-primary)] mb-4"},I=["placeholder"],M={key:0,class:"mt-2 text-xs text-[var(--text-muted)]"},D={key:1,class:"mt-2 text-xs text-red-400"},F={class:"flex justify-end gap-3 mt-6"},K=["disabled"],j={__name:"CreateItemModal",props:{mode:{type:String,default:"folder",validator:l=>["folder","file","rename"].includes(l)},initialValue:{type:String,default:""}},emits:["cancel","create","rename"],setup(l,{emit:g}){const{t:u}=$(),a=l,v=g,o=m(null),s=m(a.initialValue),i=m(""),w=x(()=>a.mode==="rename"?u("sidebar.renameFile"):a.mode==="folder"?u("sidebar.createFolder"):u("sidebar.createFile")),b=x(()=>{const e=s.value.trim();return e?e.includes("/")||e.includes("\\")?(i.value="Name cannot contain / or \\",!1):(i.value="",!0):!1}),p=()=>{b.value&&(a.mode==="rename"?v("rename",s.value.trim()):v("create",s.value.trim()))};return k(()=>{if(o.value&&(o.value.focus(),a.mode==="rename"&&a.initialValue)){const e=a.initialValue.lastIndexOf(".");e>0?o.value.setSelectionRange(0,e):o.value.select()}}),(e,t)=>(f(),c("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t[3]||(t[3]=N(d=>e.$emit("cancel"),["self"]))},[r("div",S,[r("h3",B,n(w.value),1),V(r("input",{ref_key:"inputRef",ref:o,"onUpdate:modelValue":t[0]||(t[0]=d=>s.value=d),type:"text",placeholder:l.mode==="folder"?e.$t("sidebar.folderNamePlaceholder"):e.$t("sidebar.fileNamePlaceholder"),class:"w-full px-4 py-3 bg-[var(--bg-input)] border border-[var(--border-subtle)] rounded-xl text-[var(--text-primary)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500",onKeyup:[y(p,["enter"]),t[1]||(t[1]=y(d=>e.$emit("cancel"),["escape"]))]},null,40,I),[[C,s.value]]),l.mode==="file"?(f(),c("p",M,n(e.$t("sidebar.fileNameHint")),1)):h("",!0),i.value?(f(),c("p",D,n(i.value),1)):h("",!0),r("div",F,[r("button",{onClick:t[2]||(t[2]=d=>e.$emit("cancel")),class:"px-4 py-2.5 text-sm text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-white/10 rounded-xl transition-all"},n(e.$t("common.cancel")),1),r("button",{onClick:p,disabled:!b.value,class:"px-5 py-2.5 text-sm bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-xl shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40 hover:scale-105 transition-all font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"},n(l.mode==="rename"?e.$t("common.save"):e.$t("common.create")),9,K)])])]))}};export{j as default};
