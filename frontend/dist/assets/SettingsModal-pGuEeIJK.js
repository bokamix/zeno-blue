import{E as Se,r as i,b as C,f as je,o as Ae,e as d,i as l,l as e,L as r,u as a,A as o,B as y,I as c,O as L,C as Ee,H as f,p,F as V,j as O,Z as ne,D as le,$ as Ie,q as ie,K as Pe}from"./vue-core-Chol9MOc.js";import{c as u,u as Re,b as Te,d as de,X as Le,M as Ve,a as q,e as Oe,R as qe}from"./index-Agzgw_Kl.js";import"./tiptap-zBojtxx-.js";import"./markdown-B3lvOPUD.js";import"./highlight-BX1zPj8W.js";/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=u("CpuIcon",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=u("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=u("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=u("GlobeIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=u("HardDriveIcon",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=u("KeyRoundIcon",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=u("MessageCircleIcon",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=u("MoonIcon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=u("PanelLeftIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=u("PanelRightIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=u("SunIcon",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=u("Volume2Icon",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=u("VolumeXIcon",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),We={class:"flex-shrink-0 flex items-center justify-between p-6 border-b border-white/5"},et={class:"flex items-center gap-3"},tt={class:"p-2 rounded-xl bg-white/5"},st={class:"text-lg font-semibold text-[var(--text-primary)]"},at={class:"p-6 space-y-6 overflow-y-auto"},ot={class:"border-b border-[var(--border-subtle)]"},nt={class:"flex items-center gap-3"},lt={class:"p-2 rounded-lg bg-blue-500/20"},it={class:"text-sm text-[var(--text-primary)]"},dt={class:"pl-4 pb-3 space-y-2"},rt={class:"text-[10px] text-zinc-500"},ct=["placeholder"],ut={class:"flex items-center justify-between"},pt={class:"text-[10px] text-zinc-500"},vt=["disabled"],mt={class:"border-b border-[var(--border-subtle)]"},gt={class:"flex items-center gap-3"},ht={class:"p-2 rounded-lg bg-zinc-500/20"},bt={class:"text-sm text-[var(--text-primary)]"},xt={class:"pl-4 pb-3 space-y-1"},yt={class:"flex items-center justify-between py-2"},ft={class:"flex items-center gap-3"},wt={class:"text-sm text-[var(--text-secondary)]"},kt={class:"flex items-center justify-between py-2"},_t={class:"flex items-center gap-3"},$t={class:"text-sm text-[var(--text-secondary)]"},zt={class:"flex items-center justify-between py-2"},Ct={class:"flex items-center gap-3"},Mt={class:"p-1.5 rounded-lg bg-cyan-500/20"},Kt={class:"text-sm text-[var(--text-secondary)]"},St={class:"flex items-center justify-between py-2"},jt={class:"flex items-center gap-3"},At={class:"text-sm text-[var(--text-secondary)]"},Et={class:"flex items-center justify-between py-2"},It={class:"flex items-center gap-3"},Pt={class:"p-1.5 rounded-lg bg-pink-500/20"},Rt={class:"text-sm text-[var(--text-secondary)]"},Tt={class:"ml-9 mt-2 space-y-3 p-3 rounded-xl bg-[var(--bg-surface)]"},Lt={class:"text-[10px] text-zinc-500"},Vt={class:"text-[10px] text-zinc-500 mb-1 block"},Ot=["disabled"],qt={key:0,value:""},Bt=["value"],Ht={class:"text-[10px] text-zinc-500 mb-1 block"},Dt=["disabled"],Ut={key:0,value:""},Nt=["value"],Zt={class:"border-b border-[var(--border-subtle)]"},Ft={class:"flex items-center gap-3"},Gt={class:"p-2 rounded-lg bg-violet-500/20"},Xt={class:"text-sm text-[var(--text-primary)]"},Yt={class:"pl-4 pb-3 space-y-2"},Jt={key:0,class:"text-xs text-green-400 mb-1"},Qt={key:1,class:"text-xs text-red-400 mb-1"},Wt={class:"flex items-center justify-between"},es={class:"flex items-center gap-3 min-w-0"},ts={class:"min-w-0"},ss={class:"text-sm text-[var(--text-secondary)] block"},as={key:0,class:"text-xs text-zinc-500 font-mono"},os={class:"flex items-center gap-2 flex-shrink-0"},ns={key:0,class:"px-2 py-0.5 text-[10px] rounded-full bg-green-500/20 text-green-400 font-medium"},ls={key:1,class:"px-2 py-0.5 text-[10px] rounded-full bg-zinc-500/20 text-zinc-400 font-medium"},is=["onClick"],ds={key:0,class:"mt-2 flex gap-2"},rs={class:"relative flex-1"},cs=["type","onKeydown"],us=["onClick","disabled"],ps={class:"border-b border-[var(--border-subtle)]"},vs={class:"flex items-center gap-3"},ms={class:"p-2 rounded-lg bg-orange-500/20"},gs={class:"text-sm text-[var(--text-primary)]"},hs={class:"pl-4 pb-3 space-y-2"},bs={class:"text-[10px] text-zinc-500 mb-2"},xs={class:"flex items-center gap-2 min-w-0"},ys={class:"text-xs text-zinc-400 font-mono truncate"},fs={class:"text-[10px] text-zinc-600"},ws=["onClick"],ks={key:0,class:"p-3 rounded-xl bg-green-500/10 border border-green-500/20"},_s={class:"text-[10px] text-green-400 mb-1"},$s={class:"flex items-center gap-2"},zs={class:"text-xs text-green-300 font-mono break-all flex-1"},Cs=["disabled"],Ms={class:"flex items-center gap-3"},Ks={class:"p-2 rounded-xl bg-blue-500/20"},Ss={class:"text-left"},js={class:"text-sm font-medium text-[var(--text-primary)]"},As={class:"text-xs text-zinc-500"},Es={class:"pt-2"},Is={class:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-4"},Ps={key:0,class:"mb-4 p-3 rounded-xl bg-[var(--bg-surface)]"},Rs={class:"flex items-center justify-between text-xs mb-2"},Ts={class:"flex items-center gap-2"},Ls={class:"p-1.5 rounded-lg bg-blue-500/20"},Vs={class:"text-[var(--text-secondary)]"},Os={class:"text-[var(--text-muted)]"},qs={class:"h-2 bg-[var(--bg-base)] rounded-full overflow-hidden"},Bs={class:"flex items-center justify-between py-3"},Hs={class:"flex items-center gap-3"},Ds={class:"p-2 rounded-lg bg-orange-500/20"},Us={class:"text-sm text-[var(--text-primary)]"},Ns={class:"text-xs text-zinc-500"},Zs=["disabled"],Fs={key:0},Gs={key:1},Xs={key:2},Ys={key:1,class:"text-xs text-red-400 mt-2"},sa={__name:"SettingsModal",props:{restartCooldown:{type:Number,default:0},isRestarting:{type:Boolean,default:!1},restartError:{type:String,default:null}},emits:["close","request-restart"],setup(v,{emit:re}){const ce=re,B=Se("swipeState",{isDragging:i(!1),dragTarget:i(null),settingsDragOffset:i(0)}),H=C(()=>B.isDragging.value&&B.dragTarget.value==="settings"),ue=C(()=>H.value?{transform:`translateX(${B.settingsDragOffset.value}px)`}:{}),{getDiskUsage:pe}=Re(),w=i(null),ve=C(()=>{if(!w.value)return"bg-blue-500";const t=w.value.used_percent;return t>=90?"bg-red-500":t>=75?"bg-amber-500":"bg-blue-500"}),{isDarkTheme:A,sidebarPosition:E,currentLanguage:me,soundEnabled:I,apiKeys:M,customSystemPrompt:D,customSystemPromptSaving:Y,saveCustomPrompt:ge,toggleTheme:J,toggleSidebarPosition:Q,toggleLanguage:W,toggleSound:ee,loadApiKeys:he,saveApiKey:be,saveOpenRouterModels:xe}=Te(),U=i([]),m=i(""),g=i(""),k=i(!1),ye=async()=>{k.value=!0;try{const[t,n]=await Promise.all([fetch("/settings/openrouter-models"),fetch("/settings")]);if(t.ok){const s=await t.json();U.value=s.models||[]}if(n.ok){const s=await n.json();m.value=s.openrouter_model||"",g.value=s.openrouter_cheap_model||""}}catch(t){console.error("Failed to load models",t)}finally{k.value=!1}},fe=C(()=>{const t=[...U.value];return m.value&&!t.some(n=>n.id===m.value)&&t.unshift({id:m.value,name:m.value}),t}),we=C(()=>{const t=[...U.value];return g.value&&!t.some(n=>n.id===g.value)&&t.unshift({id:g.value,name:g.value}),t}),te=async()=>{await xe(m.value,g.value)},P=i(!1),_=i(D.value||""),N=i(!1),ke=async()=>{await ge(_.value)&&(N.value=!0,setTimeout(()=>{N.value=!1},2e3))},R=i(!0),K=i(!1),h=i(null),b=i(""),Z=i(!1),x=i(null),$=i(!1),_e=[{name:"openrouter_api_key",label:"openrouterApiKey",iconBg:"bg-pink-500/20",iconText:"text-pink-400"},{name:"serper_api_key",label:"serperApiKey",iconBg:"bg-cyan-500/20",iconText:"text-cyan-400"}],$e=t=>{h.value=t,b.value="",x.value=null,$.value=!1},se=()=>{h.value=null,b.value="",x.value=null,$.value=!1},ae=async t=>{if(!b.value.trim())return;Z.value=!0,x.value=null;const n=await be(t,b.value.trim());Z.value=!1,n?(x.value="success",h.value=null,b.value="",setTimeout(()=>{x.value=null},2e3)):x.value="error"},S=i(!1),oe=i([]),j=i(null),T=i(!1),F=i(!1),G=async()=>{try{const t=await fetch("/api/auth/api-keys");t.ok&&(oe.value=await t.json())}catch{}},ze=async()=>{T.value=!0,j.value=null;try{const t=await fetch("/api/auth/api-keys",{method:"POST"});if(t.ok){const n=await t.json();j.value=n.key,await G()}}catch{}T.value=!1},Ce=async t=>{try{(await fetch(`/api/auth/api-keys/${t}`,{method:"DELETE"})).ok&&await G()}catch{}},Me=async t=>{try{await navigator.clipboard.writeText(t),F.value=!0,setTimeout(()=>{F.value=!1},2e3)}catch{}},Ke=()=>{ce("close"),window.$crisp&&(window.$crisp.push(["do","chat:show"]),window.$crisp.push(["do","chat:open"]))};return C(()=>{const t=window.location.hostname,n=t.split(".");return`https://app.${n.length>2?n.slice(1).join("."):t}/dashboard`}),je(D,t=>{_.value=t||""}),Ae(async()=>{w.value=await pe(),ye()}),(t,n)=>(l(),d("div",{class:c(["fixed inset-0 z-50",["md:bg-black/60 md:backdrop-blur-sm md:flex md:items-center md:justify-center md:p-4","bg-black/30 backdrop-blur-sm",H.value?"":"transition-colors duration-300"]]),onClick:n[16]||(n[16]=Pe(s=>t.$emit("close"),["self"]))},[e("div",{class:c(["glass-solid flex flex-col overflow-hidden",["fixed top-0 bottom-0 right-0 w-[calc(100vw-40px)] max-w-sm rounded-l-3xl rounded-tr-none rounded-br-none","md:static md:rounded-3xl md:w-full md:max-w-md md:max-h-[calc(100dvh-2rem)] md:animate-modal-enter",H.value?"":"transition-transform duration-300"]]),style:ie(ue.value)},[n[17]||(n[17]=e("div",{class:"absolute top-0 left-8 right-8 h-px bg-gradient-to-r from-transparent via-zinc-500/50 to-transparent"},null,-1)),e("div",We,[e("div",et,[e("div",tt,[r(a(de),{class:"w-5 h-5 text-zinc-400"})]),e("h2",st,o(t.$t("modals.settings.title")),1)]),e("button",{onClick:n[0]||(n[0]=s=>t.$emit("close")),class:"p-2 rounded-xl text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-surface)] transition-all"},[r(a(Le),{class:"w-5 h-5"})])]),e("div",at,[e("div",ot,[e("button",{onClick:n[1]||(n[1]=s=>P.value=!P.value),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",nt,[e("div",lt,[r(a(Ve),{class:"w-4 h-4 text-blue-400"})]),e("span",it,o(t.$t("modals.settings.customInstructions")),1)]),r(a(q),{class:c(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":P.value}])},null,8,["class"])]),y(e("div",dt,[e("p",rt,o(t.$t("modals.settings.customInstructionsDesc")),1),y(e("textarea",{"onUpdate:modelValue":n[2]||(n[2]=s=>_.value=s),placeholder:t.$t("modals.settings.customInstructionsPlaceholder"),rows:"4",maxlength:1e4,class:"w-full px-3 py-2 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none focus:border-blue-500/50 resize-y min-h-[80px] max-h-[200px]"},null,8,ct),[[Ee,_.value]]),e("div",ut,[e("span",pt,o(_.value.length)+" / 10,000",1),e("button",{onClick:ke,disabled:a(Y)||_.value===a(D),class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 disabled:opacity-50 disabled:cursor-not-allowed"},o(a(Y)?t.$t("common.saving"):N.value?t.$t("common.saved"):t.$t("common.save")),9,vt)])],512),[[L,P.value]])]),e("div",mt,[e("button",{onClick:n[3]||(n[3]=s=>R.value=!R.value),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",gt,[e("div",ht,[r(a(de),{class:"w-4 h-4 text-zinc-400"})]),e("span",bt,o(t.$t("modals.settings.preferences")),1)]),r(a(q),{class:c(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":R.value}])},null,8,["class"])]),y(e("div",xt,[e("div",yt,[e("div",ft,[e("div",{class:c(["p-1.5 rounded-lg",a(A)?"bg-blue-500/20":"bg-amber-500/20"])},[a(A)?(l(),f(a(Fe),{key:0,class:"w-3.5 h-3.5 text-blue-400"})):(l(),f(a(Ye),{key:1,class:"w-3.5 h-3.5 text-amber-500"}))],2),e("span",wt,o(t.$t("modals.settings.theme")),1)]),e("button",{onClick:n[4]||(n[4]=(...s)=>a(J)&&a(J)(...s)),class:c(["px-3 py-1.5 text-xs rounded-lg font-medium transition-all",a(A)?"bg-white/10 text-zinc-300 hover:bg-white/20":"bg-amber-500/20 text-amber-600 hover:bg-amber-500/30"])},o(a(A)?t.$t("modals.settings.themeDark"):t.$t("modals.settings.themeLight")),3)]),e("div",kt,[e("div",_t,[e("div",{class:c(["p-1.5 rounded-lg",a(E)==="left"?"bg-blue-500/20":"bg-sky-500/20"])},[a(E)==="left"?(l(),f(a(Ge),{key:0,class:"w-3.5 h-3.5 text-blue-400"})):(l(),f(a(Xe),{key:1,class:"w-3.5 h-3.5 text-sky-400"}))],2),e("span",$t,o(t.$t("modals.settings.sidebar")),1)]),e("button",{onClick:n[5]||(n[5]=(...s)=>a(Q)&&a(Q)(...s)),class:c(["px-3 py-1.5 text-xs rounded-lg font-medium transition-all",a(E)==="left"?"bg-white/10 text-zinc-300 hover:bg-white/20":"bg-sky-500/20 text-sky-400 hover:bg-sky-500/30"])},o(a(E)==="left"?t.$t("modals.settings.sidebarLeft"):t.$t("modals.settings.sidebarRight")),3)]),e("div",zt,[e("div",Ct,[e("div",Mt,[r(a(Ue),{class:"w-3.5 h-3.5 text-cyan-400"})]),e("span",Kt,o(t.$t("modals.settings.language")),1)]),e("button",{onClick:n[6]||(n[6]=(...s)=>a(W)&&a(W)(...s)),class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-white/10 text-zinc-300 hover:bg-white/20"},o(t.$t("language."+a(me))),1)]),e("div",St,[e("div",jt,[e("div",{class:c(["p-1.5 rounded-lg",a(I)?"bg-green-500/20":"bg-zinc-500/20"])},[a(I)?(l(),f(a(Je),{key:0,class:"w-3.5 h-3.5 text-green-400"})):(l(),f(a(Qe),{key:1,class:"w-3.5 h-3.5 text-zinc-400"}))],2),e("span",At,o(t.$t("modals.settings.soundNotifications")),1)]),e("button",{onClick:n[7]||(n[7]=(...s)=>a(ee)&&a(ee)(...s)),class:c(["px-3 py-1.5 text-xs rounded-lg font-medium transition-all",a(I)?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-white/10 text-zinc-300 hover:bg-white/20"])},o(a(I)?t.$t("modals.settings.soundOn"):t.$t("modals.settings.soundOff")),3)]),e("div",Et,[e("div",It,[e("div",Pt,[r(a(Be),{class:"w-3.5 h-3.5 text-pink-400"})]),e("span",Rt,o(t.$t("modals.settings.aiModels")),1)])]),e("div",Tt,[e("p",Lt,o(t.$t("modals.settings.openrouterHelp")),1),e("div",null,[e("label",Vt,o(t.$t("modals.settings.mainModel")),1),y(e("select",{"onUpdate:modelValue":n[8]||(n[8]=s=>m.value=s),onChange:te,disabled:k.value,class:"w-full px-3 py-1.5 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none cursor-pointer disabled:opacity-50"},[k.value?(l(),d("option",qt,o(t.$t("modals.settings.loadingModels")),1)):p("",!0),(l(!0),d(V,null,O(fe.value,s=>(l(),d("option",{key:s.id,value:s.id},o(s.name),9,Bt))),128))],40,Ot),[[ne,m.value]])]),e("div",null,[e("label",Ht,o(t.$t("modals.settings.fastModel")),1),y(e("select",{"onUpdate:modelValue":n[9]||(n[9]=s=>g.value=s),onChange:te,disabled:k.value,class:"w-full px-3 py-1.5 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none cursor-pointer disabled:opacity-50"},[k.value?(l(),d("option",Ut,o(t.$t("modals.settings.loadingModels")),1)):p("",!0),(l(!0),d(V,null,O(we.value,s=>(l(),d("option",{key:s.id,value:s.id},o(s.name),9,Nt))),128))],40,Dt),[[ne,g.value]])])])],512),[[L,R.value]])]),e("div",Zt,[e("button",{onClick:n[10]||(n[10]=s=>{K.value=!K.value,K.value&&a(he)()}),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",Ft,[e("div",Gt,[r(a(X),{class:"w-4 h-4 text-violet-400"})]),e("span",Xt,o(t.$t("modals.settings.apiKeys")),1)]),r(a(q),{class:c(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":K.value}])},null,8,["class"])]),y(e("div",Yt,[x.value==="success"?(l(),d("p",Jt,o(t.$t("modals.settings.apiKeySaved")),1)):p("",!0),x.value==="error"?(l(),d("p",Qt,o(t.$t("modals.settings.apiKeyError")),1)):p("",!0),(l(),d(V,null,O(_e,s=>e("div",{key:s.name,class:"py-2"},[e("div",Wt,[e("div",es,[e("div",{class:c(["p-1.5 rounded-lg",s.iconBg])},[r(a(X),{class:c(["w-3.5 h-3.5",s.iconText])},null,8,["class"])],2),e("div",ts,[e("span",ss,o(t.$t("modals.settings."+s.label)),1),a(M)[s.name]?.configured&&h.value!==s.name?(l(),d("span",as,o(a(M)[s.name]?.masked),1)):p("",!0)])]),e("div",os,[a(M)[s.name]?.configured&&h.value!==s.name?(l(),d("span",ns,o(t.$t("modals.settings.apiKeyConfigured")),1)):!a(M)[s.name]?.configured&&h.value!==s.name?(l(),d("span",ls,o(t.$t("modals.settings.apiKeyNotSet")),1)):p("",!0),h.value!==s.name?(l(),d("button",{key:2,onClick:z=>$e(s.name),class:"px-2.5 py-1 text-xs rounded-lg font-medium transition-all bg-white/10 text-zinc-300 hover:bg-white/20"},o(a(M)[s.name]?.configured?t.$t("modals.settings.apiKeyChange"):t.$t("modals.settings.apiKeySave")),9,is)):p("",!0)])]),h.value===s.name?(l(),d("div",ds,[e("div",rs,[y(e("input",{"onUpdate:modelValue":n[11]||(n[11]=z=>b.value=z),type:$.value?"text":"password",placeholder:"sk-...",class:"w-full px-3 py-1.5 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none focus:border-violet-500/50 font-mono pr-8",onKeydown:[le(z=>ae(s.name),["enter"]),le(se,["escape"])]},null,40,cs),[[Ie,b.value]]),e("button",{onClick:n[12]||(n[12]=z=>$.value=!$.value),class:"absolute right-2 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300"},[$.value?(l(),f(a(He),{key:1,class:"w-3.5 h-3.5"})):(l(),f(a(De),{key:0,class:"w-3.5 h-3.5"}))])]),e("button",{onClick:z=>ae(s.name),disabled:Z.value||!b.value.trim(),class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-violet-500/20 text-violet-400 hover:bg-violet-500/30 disabled:opacity-50 disabled:cursor-not-allowed"},o(t.$t("modals.settings.apiKeySave")),9,us),e("button",{onClick:se,class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-white/10 text-zinc-300 hover:bg-white/20"},o(t.$t("common.cancel")),1)])):p("",!0)])),64))],512),[[L,K.value]])]),e("div",ps,[e("button",{onClick:n[13]||(n[13]=s=>{S.value=!S.value,S.value&&G()}),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",vs,[e("div",ms,[r(a(X),{class:"w-4 h-4 text-orange-400"})]),e("span",gs,o(t.$t("modals.settings.zenoApiKeys")),1)]),r(a(q),{class:c(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":S.value}])},null,8,["class"])]),y(e("div",hs,[e("p",bs,o(t.$t("modals.settings.zenoApiKeysDesc")),1),(l(!0),d(V,null,O(oe.value,s=>(l(),d("div",{key:s.id,class:"flex items-center justify-between py-1.5"},[e("div",xs,[e("span",ys,o(s.masked),1),e("span",fs,o(s.created_at),1)]),e("button",{onClick:z=>Ce(s.id),class:"px-2 py-1 text-xs rounded-lg text-red-400 hover:bg-red-500/20 transition-all flex-shrink-0"},o(t.$t("common.delete")),9,ws)]))),128)),j.value?(l(),d("div",ks,[e("p",_s,o(t.$t("modals.settings.zenoApiKeyCopyHint")),1),e("div",$s,[e("code",zs,o(j.value),1),e("button",{onClick:n[14]||(n[14]=s=>Me(j.value)),class:"px-2 py-1 text-xs rounded-lg bg-green-500/20 text-green-400 hover:bg-green-500/30 transition-all flex-shrink-0"},o(F.value?t.$t("common.saved"):"Copy"),1)])])):p("",!0),e("button",{onClick:ze,disabled:T.value,class:"w-full px-3 py-2 text-xs rounded-lg font-medium transition-all bg-orange-500/20 text-orange-400 hover:bg-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed"},o(T.value?t.$t("common.loading"):t.$t("modals.settings.zenoApiKeyGenerate")),9,Cs)],512),[[L,S.value]])]),e("button",{onClick:Ke,class:"w-full flex items-center justify-between p-4 rounded-2xl bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/20 hover:border-blue-500/40 transition-all group"},[e("div",Ms,[e("div",Ks,[r(a(Oe),{class:"w-5 h-5 text-blue-400"})]),e("div",Ss,[e("span",js,o(t.$t("modals.settings.help")),1),e("p",As,o(t.$t("modals.settings.helpDesc")),1)])]),r(a(Ze),{class:"w-4 h-4 text-zinc-500 group-hover:text-blue-400 transition-colors"})]),e("div",Es,[e("h3",Is,o(t.$t("modals.settings.system")),1),w.value?(l(),d("div",Ps,[e("div",Rs,[e("div",Ts,[e("div",Ls,[r(a(Ne),{class:"w-3.5 h-3.5 text-blue-400"})]),e("span",Vs,o(t.$t("sidebar.storage")),1)]),e("span",Os,o(t.$t("sidebar.storageUsed",{used:w.value.used_human,total:w.value.total_human})),1)]),e("div",qs,[e("div",{class:c(["h-full rounded-full transition-all duration-300",ve.value]),style:ie({width:w.value.used_percent+"%"})},null,6)])])):p("",!0),e("div",Bs,[e("div",Hs,[e("div",Ds,[r(a(qe),{class:c(["w-4 h-4 text-orange-400",{"animate-spin":v.isRestarting}])},null,8,["class"])]),e("div",null,[e("span",Us,o(t.$t("modals.settings.restartContainer")),1),e("p",Ns,o(t.$t("modals.settings.restartContainerDesc")),1)])]),e("button",{onClick:n[15]||(n[15]=s=>t.$emit("request-restart")),disabled:v.restartCooldown>0||v.isRestarting,class:c(["px-4 py-2 text-sm rounded-xl font-medium transition-all",v.restartCooldown>0||v.isRestarting?"bg-zinc-500/20 text-zinc-500 cursor-not-allowed":"bg-orange-500/20 text-orange-400 hover:bg-orange-500/30 border border-orange-500/20"])},[v.isRestarting?(l(),d("span",Fs,o(t.$t("modals.settings.restarting")),1)):v.restartCooldown>0?(l(),d("span",Gs,o(v.restartCooldown)+"s",1)):(l(),d("span",Xs,o(t.$t("modals.settings.restart")),1))],10,Zs)]),v.restartError?(l(),d("p",Ys,o(v.restartError),1)):p("",!0)])])],6)],2))}};export{sa as default};
