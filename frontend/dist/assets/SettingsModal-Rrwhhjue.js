import{G as _e,r as i,b as U,f as ee,o as $e,e as d,i as n,l as e,L as c,u as s,A as a,C as h,B as r,O as H,D as V,p as v,I as x,F as Ce,j as Me,E as te,$ as ze,q as se,K as Pe}from"./vue-core-jACk-pto.js";import{c as u,u as Ke,b as Se,d as oe,X as je,M as Ie,a as N,e as Ae,R as Ee}from"./index-DZKToPV7.js";import"./tiptap-N4ivBHz1.js";import"./markdown-B3lvOPUD.js";import"./highlight-BX1zPj8W.js";/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=u("CpuIcon",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=u("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=u("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=u("GlobeIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=u("HardDriveIcon",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=u("KeyRoundIcon",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=u("MessageCircleIcon",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=u("MoonIcon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=u("PanelLeftIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=u("PanelRightIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=u("SunIcon",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=u("Volume2Icon",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=u("VolumeXIcon",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Xe={class:"flex-shrink-0 flex items-center justify-between p-6 border-b border-white/5"},Fe={class:"flex items-center gap-3"},Ze={class:"p-2 rounded-xl bg-white/5"},Ye={class:"text-lg font-semibold text-[var(--text-primary)]"},Je={class:"p-6 space-y-6 overflow-y-auto"},Qe={class:"border-b border-[var(--border-subtle)]"},We={class:"flex items-center gap-3"},et={class:"p-2 rounded-lg bg-blue-500/20"},tt={class:"text-sm text-[var(--text-primary)]"},st={class:"pl-4 pb-3 space-y-2"},ot={class:"text-[10px] text-zinc-500"},at=["placeholder"],lt={class:"flex items-center justify-between"},nt={class:"text-[10px] text-zinc-500"},it=["disabled"],rt={class:"border-b border-[var(--border-subtle)]"},dt={class:"flex items-center gap-3"},ct={class:"p-2 rounded-lg bg-zinc-500/20"},ut={class:"text-sm text-[var(--text-primary)]"},mt={class:"pl-4 pb-3 space-y-1"},vt={class:"flex items-center justify-between py-2"},pt={class:"flex items-center gap-3"},gt={class:"text-sm text-[var(--text-secondary)]"},bt={class:"flex items-center justify-between py-2"},ht={class:"flex items-center gap-3"},xt={class:"text-sm text-[var(--text-secondary)]"},yt={class:"flex items-center justify-between py-2"},ft={class:"flex items-center gap-3"},wt={class:"p-1.5 rounded-lg bg-cyan-500/20"},kt={class:"text-sm text-[var(--text-secondary)]"},_t={class:"flex items-center justify-between py-2"},$t={class:"flex items-center gap-3"},Ct={class:"text-sm text-[var(--text-secondary)]"},Mt={class:"flex items-center justify-between py-2"},zt={class:"flex items-center gap-3"},Pt={class:"text-sm text-[var(--text-secondary)]"},Kt=["value","disabled"],St={value:"custom",class:"bg-[var(--bg-elevated)] text-[var(--text-primary)]"},jt={key:0,class:"text-xs text-red-400 mt-1 ml-9"},It={key:1,class:"ml-9 mt-2 space-y-2 p-3 rounded-xl bg-[var(--bg-surface)]"},At={class:"text-[10px] text-zinc-500 mb-2"},Et={class:"text-[10px] text-zinc-500 mb-1 block"},Bt=["placeholder"],Ut={class:"text-[10px] text-zinc-500 mb-1 block"},Vt=["placeholder"],Lt={class:"text-[10px] text-zinc-500 mb-1 block"},Tt=["placeholder"],Rt=["disabled"],qt={class:"border-b border-[var(--border-subtle)]"},Ot={class:"flex items-center gap-3"},Ht={class:"p-2 rounded-lg bg-violet-500/20"},Nt={class:"text-sm text-[var(--text-primary)]"},Dt={class:"pl-4 pb-3 space-y-2"},Gt={key:0,class:"text-xs text-green-400 mb-1"},Xt={key:1,class:"text-xs text-red-400 mb-1"},Ft={class:"flex items-center justify-between"},Zt={class:"flex items-center gap-3 min-w-0"},Yt={class:"min-w-0"},Jt={class:"text-sm text-[var(--text-secondary)] block"},Qt={key:0,class:"text-xs text-zinc-500 font-mono"},Wt={class:"flex items-center gap-2 flex-shrink-0"},es={key:0,class:"px-2 py-0.5 text-[10px] rounded-full bg-green-500/20 text-green-400 font-medium"},ts={key:1,class:"px-2 py-0.5 text-[10px] rounded-full bg-zinc-500/20 text-zinc-400 font-medium"},ss=["onClick"],os={key:0,class:"mt-2 flex gap-2"},as={class:"relative flex-1"},ls=["type","onKeydown"],ns=["onClick","disabled"],is={class:"flex items-center gap-3"},rs={class:"p-2 rounded-xl bg-blue-500/20"},ds={class:"text-left"},cs={class:"text-sm font-medium text-[var(--text-primary)]"},us={class:"text-xs text-zinc-500"},ms={class:"pt-2"},vs={class:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-4"},ps={key:0,class:"mb-4 p-3 rounded-xl bg-[var(--bg-surface)]"},gs={class:"flex items-center justify-between text-xs mb-2"},bs={class:"flex items-center gap-2"},hs={class:"p-1.5 rounded-lg bg-blue-500/20"},xs={class:"text-[var(--text-secondary)]"},ys={class:"text-[var(--text-muted)]"},fs={class:"h-2 bg-[var(--bg-base)] rounded-full overflow-hidden"},ws={class:"flex items-center justify-between py-3"},ks={class:"flex items-center gap-3"},_s={class:"p-2 rounded-lg bg-orange-500/20"},$s={class:"text-sm text-[var(--text-primary)]"},Cs={class:"text-xs text-zinc-500"},Ms=["disabled"],zs={key:0},Ps={key:1},Ks={key:2},Ss={key:1,class:"text-xs text-red-400 mt-2"},Us={__name:"SettingsModal",props:{restartCooldown:{type:Number,default:0},isRestarting:{type:Boolean,default:!1},restartError:{type:String,default:null}},emits:["close","request-restart"],setup(m,{emit:le}){const ne=le,L=_e("swipeState",{isDragging:i(!1),dragTarget:i(null),settingsDragOffset:i(0)}),T=U(()=>L.isDragging.value&&L.dragTarget.value==="settings"),ie=U(()=>T.value?{transform:`translateX(${L.settingsDragOffset.value}px)`}:{}),{getDiskUsage:re}=Ke(),y=i(null),de=U(()=>{if(!y.value)return"bg-blue-500";const t=y.value.used_percent;return t>=90?"bg-red-500":t>=75?"bg-amber-500":"bg-blue-500"}),{isDarkTheme:z,sidebarPosition:P,currentLanguage:ce,soundEnabled:K,modelProvider:f,modelProviderLoading:ue,modelProviderError:D,apiKeys:$,customProviderSettings:S,customSystemPrompt:R,customSystemPromptSaving:G,saveCustomPrompt:me,toggleTheme:X,toggleSidebarPosition:F,toggleLanguage:Z,toggleSound:Y,setModelProvider:J,saveCustomProvider:ve,validateApiKey:pe,loadApiKeys:ge,saveApiKey:be}=Se(),he=async t=>{if(t==="custom"){J(t);return}await pe(t)&&J(t)},w=i(S.value.model||""),j=i(S.value.baseUrl||""),I=i(S.value.cheapModel||""),A=i(!1),xe=async()=>{w.value.trim()&&(A.value=!0,await ve({model:w.value.trim(),baseUrl:j.value.trim(),cheapModel:I.value.trim()}),A.value=!1)},E=i(!1),k=i(R.value||""),q=i(!1),ye=async()=>{await me(k.value)&&(q.value=!0,setTimeout(()=>{q.value=!1},2e3))},B=i(!0),C=i(!1),p=i(null),g=i(""),O=i(!1),b=i(null),_=i(!1),fe=[{name:"anthropic_api_key",label:"anthropicApiKey",iconBg:"bg-orange-500/20",iconText:"text-orange-400"},{name:"openai_api_key",label:"openaiApiKey",iconBg:"bg-emerald-500/20",iconText:"text-emerald-400"},{name:"custom_provider_api_key",label:"customProviderApiKey",iconBg:"bg-violet-500/20",iconText:"text-violet-400"},{name:"serper_api_key",label:"serperApiKey",iconBg:"bg-cyan-500/20",iconText:"text-cyan-400"}],we=t=>{p.value=t,g.value="",b.value=null,_.value=!1},Q=()=>{p.value=null,g.value="",b.value=null,_.value=!1},W=async t=>{if(!g.value.trim())return;O.value=!0,b.value=null;const o=await be(t,g.value.trim());O.value=!1,o?(b.value="success",p.value=null,g.value="",setTimeout(()=>{b.value=null},2e3)):b.value="error"},ke=()=>{ne("close"),window.$crisp&&(window.$crisp.push(["do","chat:show"]),window.$crisp.push(["do","chat:open"]))};return U(()=>{const t=window.location.hostname,o=t.split(".");return`https://app.${o.length>2?o.slice(1).join("."):t}/dashboard`}),ee(R,t=>{k.value=t||""}),ee(S,t=>{t&&(w.value=t.model||"",j.value=t.baseUrl||"",I.value=t.cheapModel||"")},{deep:!0}),$e(async()=>{y.value=await re()}),(t,o)=>(n(),d("div",{class:r(["fixed inset-0 z-50",["md:bg-black/60 md:backdrop-blur-sm md:flex md:items-center md:justify-center md:p-4","bg-black/30 backdrop-blur-sm",T.value?"":"transition-colors duration-300"]]),onClick:o[16]||(o[16]=Pe(l=>t.$emit("close"),["self"]))},[e("div",{class:r(["glass-solid flex flex-col overflow-hidden",["fixed top-0 bottom-0 right-0 w-[calc(100vw-40px)] max-w-sm rounded-l-3xl rounded-tr-none rounded-br-none","md:static md:rounded-3xl md:w-full md:max-w-md md:max-h-[calc(100dvh-2rem)] md:animate-modal-enter",T.value?"":"transition-transform duration-300"]]),style:se(ie.value)},[o[19]||(o[19]=e("div",{class:"absolute top-0 left-8 right-8 h-px bg-gradient-to-r from-transparent via-zinc-500/50 to-transparent"},null,-1)),e("div",Xe,[e("div",Fe,[e("div",Ze,[c(s(oe),{class:"w-5 h-5 text-zinc-400"})]),e("h2",Ye,a(t.$t("modals.settings.title")),1)]),e("button",{onClick:o[0]||(o[0]=l=>t.$emit("close")),class:"p-2 rounded-xl text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-surface)] transition-all"},[c(s(je),{class:"w-5 h-5"})])]),e("div",Je,[e("div",Qe,[e("button",{onClick:o[1]||(o[1]=l=>E.value=!E.value),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",We,[e("div",et,[c(s(Ie),{class:"w-4 h-4 text-blue-400"})]),e("span",tt,a(t.$t("modals.settings.customInstructions")),1)]),c(s(N),{class:r(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":E.value}])},null,8,["class"])]),h(e("div",st,[e("p",ot,a(t.$t("modals.settings.customInstructionsDesc")),1),h(e("textarea",{"onUpdate:modelValue":o[2]||(o[2]=l=>k.value=l),placeholder:t.$t("modals.settings.customInstructionsPlaceholder"),rows:"4",maxlength:1e4,class:"w-full px-3 py-2 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none focus:border-blue-500/50 resize-y min-h-[80px] max-h-[200px]"},null,8,at),[[V,k.value]]),e("div",lt,[e("span",nt,a(k.value.length)+" / 10,000",1),e("button",{onClick:ye,disabled:s(G)||k.value===s(R),class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 disabled:opacity-50 disabled:cursor-not-allowed"},a(s(G)?t.$t("common.saving"):q.value?t.$t("common.saved"):t.$t("common.save")),9,it)])],512),[[H,E.value]])]),e("div",rt,[e("button",{onClick:o[3]||(o[3]=l=>B.value=!B.value),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",dt,[e("div",ct,[c(s(oe),{class:"w-4 h-4 text-zinc-400"})]),e("span",ut,a(t.$t("modals.settings.preferences")),1)]),c(s(N),{class:r(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":B.value}])},null,8,["class"])]),h(e("div",mt,[e("div",vt,[e("div",pt,[e("div",{class:r(["p-1.5 rounded-lg",s(z)?"bg-blue-500/20":"bg-amber-500/20"])},[s(z)?(n(),x(s(qe),{key:0,class:"w-3.5 h-3.5 text-blue-400"})):(n(),x(s(Ne),{key:1,class:"w-3.5 h-3.5 text-amber-500"}))],2),e("span",gt,a(t.$t("modals.settings.theme")),1)]),e("button",{onClick:o[4]||(o[4]=(...l)=>s(X)&&s(X)(...l)),class:r(["px-3 py-1.5 text-xs rounded-lg font-medium transition-all",s(z)?"bg-white/10 text-zinc-300 hover:bg-white/20":"bg-amber-500/20 text-amber-600 hover:bg-amber-500/30"])},a(s(z)?t.$t("modals.settings.themeDark"):t.$t("modals.settings.themeLight")),3)]),e("div",bt,[e("div",ht,[e("div",{class:r(["p-1.5 rounded-lg",s(P)==="left"?"bg-blue-500/20":"bg-sky-500/20"])},[s(P)==="left"?(n(),x(s(Oe),{key:0,class:"w-3.5 h-3.5 text-blue-400"})):(n(),x(s(He),{key:1,class:"w-3.5 h-3.5 text-sky-400"}))],2),e("span",xt,a(t.$t("modals.settings.sidebar")),1)]),e("button",{onClick:o[5]||(o[5]=(...l)=>s(F)&&s(F)(...l)),class:r(["px-3 py-1.5 text-xs rounded-lg font-medium transition-all",s(P)==="left"?"bg-white/10 text-zinc-300 hover:bg-white/20":"bg-sky-500/20 text-sky-400 hover:bg-sky-500/30"])},a(s(P)==="left"?t.$t("modals.settings.sidebarLeft"):t.$t("modals.settings.sidebarRight")),3)]),e("div",yt,[e("div",ft,[e("div",wt,[c(s(Le),{class:"w-3.5 h-3.5 text-cyan-400"})]),e("span",kt,a(t.$t("modals.settings.language")),1)]),e("button",{onClick:o[6]||(o[6]=(...l)=>s(Z)&&s(Z)(...l)),class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-white/10 text-zinc-300 hover:bg-white/20"},a(t.$t("language."+s(ce))),1)]),e("div",_t,[e("div",$t,[e("div",{class:r(["p-1.5 rounded-lg",s(K)?"bg-green-500/20":"bg-zinc-500/20"])},[s(K)?(n(),x(s(De),{key:0,class:"w-3.5 h-3.5 text-green-400"})):(n(),x(s(Ge),{key:1,class:"w-3.5 h-3.5 text-zinc-400"}))],2),e("span",Ct,a(t.$t("modals.settings.soundNotifications")),1)]),e("button",{onClick:o[7]||(o[7]=(...l)=>s(Y)&&s(Y)(...l)),class:r(["px-3 py-1.5 text-xs rounded-lg font-medium transition-all",s(K)?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-white/10 text-zinc-300 hover:bg-white/20"])},a(s(K)?t.$t("modals.settings.soundOn"):t.$t("modals.settings.soundOff")),3)]),e("div",Mt,[e("div",zt,[e("div",{class:r(["p-1.5 rounded-lg",s(f)==="anthropic"?"bg-orange-500/20":s(f)==="custom"?"bg-violet-500/20":"bg-emerald-500/20"])},[c(s(Be),{class:r(["w-3.5 h-3.5",s(f)==="anthropic"?"text-orange-400":s(f)==="custom"?"text-violet-400":"text-emerald-400"])},null,8,["class"])],2),e("span",Pt,a(t.$t("modals.settings.modelProvider")),1)]),e("select",{value:s(f),onChange:o[8]||(o[8]=l=>he(l.target.value)),disabled:s(ue),class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-[var(--bg-elevated)] text-[var(--text-secondary)] hover:bg-[var(--bg-surface)] border border-[var(--border-subtle)] outline-none cursor-pointer disabled:opacity-50 disabled:cursor-wait"},[o[17]||(o[17]=e("option",{value:"anthropic",class:"bg-[var(--bg-elevated)] text-[var(--text-primary)]"},"Anthropic (Claude)",-1)),o[18]||(o[18]=e("option",{value:"openai",class:"bg-[var(--bg-elevated)] text-[var(--text-primary)]"},"OpenAI (GPT)",-1)),e("option",St,a(t.$t("modals.settings.customProvider")),1)],40,Kt)]),s(D)?(n(),d("p",jt,a(s(D)),1)):v("",!0),s(f)==="custom"?(n(),d("div",It,[e("p",At,a(t.$t("modals.settings.customProviderHelp")),1),e("div",null,[e("label",Et,a(t.$t("modals.settings.customProviderModel"))+" *",1),h(e("input",{"onUpdate:modelValue":o[9]||(o[9]=l=>w.value=l),type:"text",placeholder:t.$t("modals.settings.customProviderModelPlaceholder"),class:"w-full px-3 py-1.5 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none focus:border-violet-500/50 font-mono"},null,8,Bt),[[V,w.value]])]),e("div",null,[e("label",Ut,a(t.$t("modals.settings.customProviderBaseUrl")),1),h(e("input",{"onUpdate:modelValue":o[10]||(o[10]=l=>j.value=l),type:"text",placeholder:t.$t("modals.settings.customProviderBaseUrlPlaceholder"),class:"w-full px-3 py-1.5 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none focus:border-violet-500/50 font-mono"},null,8,Vt),[[V,j.value]])]),e("div",null,[e("label",Lt,a(t.$t("modals.settings.customProviderCheapModel")),1),h(e("input",{"onUpdate:modelValue":o[11]||(o[11]=l=>I.value=l),type:"text",placeholder:t.$t("modals.settings.customProviderCheapModelPlaceholder"),class:"w-full px-3 py-1.5 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none focus:border-violet-500/50 font-mono"},null,8,Tt),[[V,I.value]])]),e("button",{onClick:xe,disabled:!w.value.trim()||A.value,class:"w-full px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-violet-500/20 text-violet-400 hover:bg-violet-500/30 disabled:opacity-50 disabled:cursor-not-allowed"},a(A.value?t.$t("common.saving"):t.$t("common.save")),9,Rt)])):v("",!0)],512),[[H,B.value]])]),e("div",qt,[e("button",{onClick:o[12]||(o[12]=l=>{C.value=!C.value,C.value&&s(ge)()}),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",Ot,[e("div",Ht,[c(s(ae),{class:"w-4 h-4 text-violet-400"})]),e("span",Nt,a(t.$t("modals.settings.apiKeys")),1)]),c(s(N),{class:r(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":C.value}])},null,8,["class"])]),h(e("div",Dt,[b.value==="success"?(n(),d("p",Gt,a(t.$t("modals.settings.apiKeySaved")),1)):v("",!0),b.value==="error"?(n(),d("p",Xt,a(t.$t("modals.settings.apiKeyError")),1)):v("",!0),(n(),d(Ce,null,Me(fe,l=>e("div",{key:l.name,class:"py-2"},[e("div",Ft,[e("div",Zt,[e("div",{class:r(["p-1.5 rounded-lg",l.iconBg])},[c(s(ae),{class:r(["w-3.5 h-3.5",l.iconText])},null,8,["class"])],2),e("div",Yt,[e("span",Jt,a(t.$t("modals.settings."+l.label)),1),s($)[l.name]?.configured&&p.value!==l.name?(n(),d("span",Qt,a(s($)[l.name]?.masked),1)):v("",!0)])]),e("div",Wt,[s($)[l.name]?.configured&&p.value!==l.name?(n(),d("span",es,a(t.$t("modals.settings.apiKeyConfigured")),1)):!s($)[l.name]?.configured&&p.value!==l.name?(n(),d("span",ts,a(t.$t("modals.settings.apiKeyNotSet")),1)):v("",!0),p.value!==l.name?(n(),d("button",{key:2,onClick:M=>we(l.name),class:"px-2.5 py-1 text-xs rounded-lg font-medium transition-all bg-white/10 text-zinc-300 hover:bg-white/20"},a(s($)[l.name]?.configured?t.$t("modals.settings.apiKeyChange"):t.$t("modals.settings.apiKeySave")),9,ss)):v("",!0)])]),p.value===l.name?(n(),d("div",os,[e("div",as,[h(e("input",{"onUpdate:modelValue":o[13]||(o[13]=M=>g.value=M),type:_.value?"text":"password",placeholder:"sk-...",class:"w-full px-3 py-1.5 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none focus:border-violet-500/50 font-mono pr-8",onKeydown:[te(M=>W(l.name),["enter"]),te(Q,["escape"])]},null,40,ls),[[ze,g.value]]),e("button",{onClick:o[14]||(o[14]=M=>_.value=!_.value),class:"absolute right-2 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300"},[_.value?(n(),x(s(Ue),{key:1,class:"w-3.5 h-3.5"})):(n(),x(s(Ve),{key:0,class:"w-3.5 h-3.5"}))])]),e("button",{onClick:M=>W(l.name),disabled:O.value||!g.value.trim(),class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-violet-500/20 text-violet-400 hover:bg-violet-500/30 disabled:opacity-50 disabled:cursor-not-allowed"},a(t.$t("modals.settings.apiKeySave")),9,ns),e("button",{onClick:Q,class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-white/10 text-zinc-300 hover:bg-white/20"},a(t.$t("common.cancel")),1)])):v("",!0)])),64))],512),[[H,C.value]])]),e("button",{onClick:ke,class:"w-full flex items-center justify-between p-4 rounded-2xl bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/20 hover:border-blue-500/40 transition-all group"},[e("div",is,[e("div",rs,[c(s(Ae),{class:"w-5 h-5 text-blue-400"})]),e("div",ds,[e("span",cs,a(t.$t("modals.settings.help")),1),e("p",us,a(t.$t("modals.settings.helpDesc")),1)])]),c(s(Re),{class:"w-4 h-4 text-zinc-500 group-hover:text-blue-400 transition-colors"})]),e("div",ms,[e("h3",vs,a(t.$t("modals.settings.system")),1),y.value?(n(),d("div",ps,[e("div",gs,[e("div",bs,[e("div",hs,[c(s(Te),{class:"w-3.5 h-3.5 text-blue-400"})]),e("span",xs,a(t.$t("sidebar.storage")),1)]),e("span",ys,a(t.$t("sidebar.storageUsed",{used:y.value.used_human,total:y.value.total_human})),1)]),e("div",fs,[e("div",{class:r(["h-full rounded-full transition-all duration-300",de.value]),style:se({width:y.value.used_percent+"%"})},null,6)])])):v("",!0),e("div",ws,[e("div",ks,[e("div",_s,[c(s(Ee),{class:r(["w-4 h-4 text-orange-400",{"animate-spin":m.isRestarting}])},null,8,["class"])]),e("div",null,[e("span",$s,a(t.$t("modals.settings.restartContainer")),1),e("p",Cs,a(t.$t("modals.settings.restartContainerDesc")),1)])]),e("button",{onClick:o[15]||(o[15]=l=>t.$emit("request-restart")),disabled:m.restartCooldown>0||m.isRestarting,class:r(["px-4 py-2 text-sm rounded-xl font-medium transition-all",m.restartCooldown>0||m.isRestarting?"bg-zinc-500/20 text-zinc-500 cursor-not-allowed":"bg-orange-500/20 text-orange-400 hover:bg-orange-500/30 border border-orange-500/20"])},[m.isRestarting?(n(),d("span",zs,a(t.$t("modals.settings.restarting")),1)):m.restartCooldown>0?(n(),d("span",Ps,a(m.restartCooldown)+"s",1)):(n(),d("span",Ks,a(t.$t("modals.settings.restart")),1))],10,Ms)]),m.restartError?(n(),d("p",Ss,a(m.restartError),1)):v("",!0)])])],6)],2))}};export{Us as default};
