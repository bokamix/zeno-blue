import{E as $e,r as i,b as K,f as Me,o as ze,e as d,i as l,l as e,L as r,u as a,A as n,B as x,I as c,O as T,C as Ce,H as y,p,F as L,j as V,Z as ae,D as oe,$ as Ke,q as Se,K as je}from"./vue-core-Chol9MOc.js";import{c as u,b as Ae,d as ne,X as Ee,M as Ie,a as O,e as Pe}from"./index-C1X3nxtu.js";import{K as U}from"./key-round-Ca6JOrnI.js";import"./tiptap-zBojtxx-.js";import"./markdown-B3lvOPUD.js";import"./highlight-BX1zPj8W.js";/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=u("CpuIcon",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=u("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=u("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=u("GlobeIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=u("MessageCircleIcon",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=u("MoonIcon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=u("PanelLeftIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=u("PanelRightIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=u("SunIcon",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=u("Volume2Icon",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=u("VolumeXIcon",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Ge={class:"flex-shrink-0 flex items-center justify-between p-6 border-b border-white/5"},Ue={class:"flex items-center gap-3"},Xe={class:"p-2 rounded-xl bg-white/5"},De={class:"text-lg font-semibold text-[var(--text-primary)]"},Ye={class:"p-6 space-y-6 overflow-y-auto"},Je={class:"border-b border-[var(--border-subtle)]"},Qe={class:"flex items-center gap-3"},We={class:"p-2 rounded-lg bg-blue-500/20"},et={class:"text-sm text-[var(--text-primary)]"},tt={class:"pl-4 pb-3 space-y-2"},st={class:"text-[10px] text-zinc-500"},at=["placeholder"],ot={class:"flex items-center justify-between"},nt={class:"text-[10px] text-zinc-500"},lt=["disabled"],it={class:"border-b border-[var(--border-subtle)]"},dt={class:"flex items-center gap-3"},rt={class:"p-2 rounded-lg bg-zinc-500/20"},ct={class:"text-sm text-[var(--text-primary)]"},ut={class:"pl-4 pb-3 space-y-1"},pt={class:"flex items-center justify-between py-2"},vt={class:"flex items-center gap-3"},mt={class:"text-sm text-[var(--text-secondary)]"},gt={class:"flex items-center justify-between py-2"},ht={class:"flex items-center gap-3"},bt={class:"text-sm text-[var(--text-secondary)]"},xt={class:"flex items-center justify-between py-2"},yt={class:"flex items-center gap-3"},ft={class:"p-1.5 rounded-lg bg-cyan-500/20"},wt={class:"text-sm text-[var(--text-secondary)]"},kt={class:"flex items-center justify-between py-2"},_t={class:"flex items-center gap-3"},$t={class:"text-sm text-[var(--text-secondary)]"},Mt={class:"flex items-center justify-between py-2"},zt={class:"flex items-center gap-3"},Ct={class:"p-1.5 rounded-lg bg-pink-500/20"},Kt={class:"text-sm text-[var(--text-secondary)]"},St={class:"ml-9 mt-2 space-y-3 p-3 rounded-xl bg-[var(--bg-surface)]"},jt={class:"text-[10px] text-zinc-500"},At={class:"text-[10px] text-zinc-500 mb-1 block"},Et=["disabled"],It={key:0,value:""},Pt=["value"],Tt={class:"text-[10px] text-zinc-500 mb-1 block"},Lt=["disabled"],Vt={key:0,value:""},Ot=["value"],qt={class:"border-b border-[var(--border-subtle)]"},Bt={class:"flex items-center gap-3"},Rt={class:"p-2 rounded-lg bg-violet-500/20"},Ht={class:"text-sm text-[var(--text-primary)]"},Zt={class:"pl-4 pb-3 space-y-2"},Ft={key:0,class:"text-xs text-green-400 mb-1"},Nt={key:1,class:"text-xs text-red-400 mb-1"},Gt={class:"flex items-center justify-between"},Ut={class:"flex items-center gap-3 min-w-0"},Xt={class:"min-w-0"},Dt={class:"text-sm text-[var(--text-secondary)] block"},Yt={key:0,class:"text-xs text-zinc-500 font-mono"},Jt={class:"flex items-center gap-2 flex-shrink-0"},Qt={key:0,class:"px-2 py-0.5 text-[10px] rounded-full bg-green-500/20 text-green-400 font-medium"},Wt={key:1,class:"px-2 py-0.5 text-[10px] rounded-full bg-zinc-500/20 text-zinc-400 font-medium"},es=["onClick"],ts={key:0,class:"mt-2 flex gap-2"},ss={class:"relative flex-1"},as=["type","onKeydown"],os=["onClick","disabled"],ns={class:"border-b border-[var(--border-subtle)]"},ls={class:"flex items-center gap-3"},is={class:"p-2 rounded-lg bg-orange-500/20"},ds={class:"text-sm text-[var(--text-primary)]"},rs={class:"pl-4 pb-3 space-y-2"},cs={class:"text-[10px] text-zinc-500 mb-2"},us={class:"flex items-center gap-2 min-w-0"},ps={class:"text-xs text-zinc-400 font-mono truncate"},vs={class:"text-[10px] text-zinc-600"},ms=["onClick"],gs={key:0,class:"p-3 rounded-xl bg-green-500/10 border border-green-500/20"},hs={class:"text-[10px] text-green-400 mb-1"},bs={class:"flex items-center gap-2"},xs={class:"text-xs text-green-300 font-mono break-all flex-1"},ys=["disabled"],fs={class:"flex items-center gap-3"},ws={class:"p-2 rounded-xl bg-blue-500/20"},ks={class:"text-left"},_s={class:"text-sm font-medium text-[var(--text-primary)]"},$s={class:"text-xs text-zinc-500"},Es={__name:"SettingsModal",emits:["close"],setup(Ms,{emit:le}){const ie=le,q=$e("swipeState",{isDragging:i(!1),dragTarget:i(null),settingsDragOffset:i(0)}),B=K(()=>q.isDragging.value&&q.dragTarget.value==="settings"),de=K(()=>B.value?{transform:`translateX(${q.settingsDragOffset.value}px)`}:{}),{isDarkTheme:S,sidebarPosition:j,currentLanguage:re,soundEnabled:A,apiKeys:$,customSystemPrompt:R,customSystemPromptSaving:X,saveCustomPrompt:ce,toggleTheme:D,toggleSidebarPosition:Y,toggleLanguage:J,toggleSound:Q,loadApiKeys:ue,saveApiKey:pe,saveOpenRouterModels:ve}=Ae(),H=i([]),v=i(""),m=i(""),f=i(!1),me=async()=>{f.value=!0;try{const[t,o]=await Promise.all([fetch("/settings/openrouter-models"),fetch("/settings")]);if(t.ok){const s=await t.json();H.value=s.models||[]}if(o.ok){const s=await o.json();v.value=s.openrouter_model||"",m.value=s.openrouter_cheap_model||""}}catch(t){console.error("Failed to load models",t)}finally{f.value=!1}},ge=K(()=>{const t=[...H.value];return v.value&&!t.some(o=>o.id===v.value)&&t.unshift({id:v.value,name:v.value}),t}),he=K(()=>{const t=[...H.value];return m.value&&!t.some(o=>o.id===m.value)&&t.unshift({id:m.value,name:m.value}),t}),W=async()=>{await ve(v.value,m.value)},E=i(!1),w=i(R.value||""),Z=i(!1),be=async()=>{await ce(w.value)&&(Z.value=!0,setTimeout(()=>{Z.value=!1},2e3))},I=i(!0),M=i(!1),g=i(null),h=i(""),F=i(!1),b=i(null),k=i(!1),xe=[{name:"openrouter_api_key",label:"openrouterApiKey",iconBg:"bg-pink-500/20",iconText:"text-pink-400"},{name:"serper_api_key",label:"serperApiKey",iconBg:"bg-cyan-500/20",iconText:"text-cyan-400"}],ye=t=>{g.value=t,h.value="",b.value=null,k.value=!1},ee=()=>{g.value=null,h.value="",b.value=null,k.value=!1},te=async t=>{if(!h.value.trim())return;F.value=!0,b.value=null;const o=await pe(t,h.value.trim());F.value=!1,o?(b.value="success",g.value=null,h.value="",setTimeout(()=>{b.value=null},2e3)):b.value="error"},z=i(!1),se=i([]),C=i(null),P=i(!1),N=i(!1),G=async()=>{try{const t=await fetch("/api/auth/api-keys");t.ok&&(se.value=await t.json())}catch{}},fe=async()=>{P.value=!0,C.value=null;try{const t=await fetch("/api/auth/api-keys",{method:"POST"});if(t.ok){const o=await t.json();C.value=o.key,await G()}}catch{}P.value=!1},we=async t=>{try{(await fetch(`/api/auth/api-keys/${t}`,{method:"DELETE"})).ok&&await G()}catch{}},ke=async t=>{try{await navigator.clipboard.writeText(t),N.value=!0,setTimeout(()=>{N.value=!1},2e3)}catch{}},_e=()=>{ie("close"),window.$crisp&&(window.$crisp.push(["do","chat:show"]),window.$crisp.push(["do","chat:open"]))};return K(()=>{const t=window.location.hostname,o=t.split(".");return`https://app.${o.length>2?o.slice(1).join("."):t}/dashboard`}),Me(R,t=>{w.value=t||""}),ze(()=>{me()}),(t,o)=>(l(),d("div",{class:c(["fixed inset-0 z-50",["md:bg-black/60 md:backdrop-blur-sm md:flex md:items-center md:justify-center md:p-4","bg-black/30 backdrop-blur-sm",B.value?"":"transition-colors duration-300"]]),onClick:o[15]||(o[15]=je(s=>t.$emit("close"),["self"]))},[e("div",{class:c(["glass-solid flex flex-col overflow-hidden",["fixed top-0 bottom-0 right-0 w-[calc(100vw-40px)] max-w-sm rounded-l-3xl rounded-tr-none rounded-br-none","md:static md:rounded-3xl md:w-full md:max-w-md md:max-h-[calc(100dvh-2rem)] md:animate-modal-enter",B.value?"":"transition-transform duration-300"]]),style:Se(de.value)},[o[16]||(o[16]=e("div",{class:"absolute top-0 left-8 right-8 h-px bg-gradient-to-r from-transparent via-zinc-500/50 to-transparent"},null,-1)),e("div",Ge,[e("div",Ue,[e("div",Xe,[r(a(ne),{class:"w-5 h-5 text-zinc-400"})]),e("h2",De,n(t.$t("modals.settings.title")),1)]),e("button",{onClick:o[0]||(o[0]=s=>t.$emit("close")),class:"p-2 rounded-xl text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-surface)] transition-all"},[r(a(Ee),{class:"w-5 h-5"})])]),e("div",Ye,[e("div",Je,[e("button",{onClick:o[1]||(o[1]=s=>E.value=!E.value),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",Qe,[e("div",We,[r(a(Ie),{class:"w-4 h-4 text-blue-400"})]),e("span",et,n(t.$t("modals.settings.customInstructions")),1)]),r(a(O),{class:c(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":E.value}])},null,8,["class"])]),x(e("div",tt,[e("p",st,n(t.$t("modals.settings.customInstructionsDesc")),1),x(e("textarea",{"onUpdate:modelValue":o[2]||(o[2]=s=>w.value=s),placeholder:t.$t("modals.settings.customInstructionsPlaceholder"),rows:"4",maxlength:1e4,class:"w-full px-3 py-2 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none focus:border-blue-500/50 resize-y min-h-[80px] max-h-[200px]"},null,8,at),[[Ce,w.value]]),e("div",ot,[e("span",nt,n(w.value.length)+" / 10,000",1),e("button",{onClick:be,disabled:a(X)||w.value===a(R),class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 disabled:opacity-50 disabled:cursor-not-allowed"},n(a(X)?t.$t("common.saving"):Z.value?t.$t("common.saved"):t.$t("common.save")),9,lt)])],512),[[T,E.value]])]),e("div",it,[e("button",{onClick:o[3]||(o[3]=s=>I.value=!I.value),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",dt,[e("div",rt,[r(a(ne),{class:"w-4 h-4 text-zinc-400"})]),e("span",ct,n(t.$t("modals.settings.preferences")),1)]),r(a(O),{class:c(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":I.value}])},null,8,["class"])]),x(e("div",ut,[e("div",pt,[e("div",vt,[e("div",{class:c(["p-1.5 rounded-lg",a(S)?"bg-blue-500/20":"bg-amber-500/20"])},[a(S)?(l(),y(a(Be),{key:0,class:"w-3.5 h-3.5 text-blue-400"})):(l(),y(a(Ze),{key:1,class:"w-3.5 h-3.5 text-amber-500"}))],2),e("span",mt,n(t.$t("modals.settings.theme")),1)]),e("button",{onClick:o[4]||(o[4]=(...s)=>a(D)&&a(D)(...s)),class:c(["px-3 py-1.5 text-xs rounded-lg font-medium transition-all",a(S)?"bg-white/10 text-zinc-300 hover:bg-white/20":"bg-amber-500/20 text-amber-600 hover:bg-amber-500/30"])},n(a(S)?t.$t("modals.settings.themeDark"):t.$t("modals.settings.themeLight")),3)]),e("div",gt,[e("div",ht,[e("div",{class:c(["p-1.5 rounded-lg",a(j)==="left"?"bg-blue-500/20":"bg-sky-500/20"])},[a(j)==="left"?(l(),y(a(Re),{key:0,class:"w-3.5 h-3.5 text-blue-400"})):(l(),y(a(He),{key:1,class:"w-3.5 h-3.5 text-sky-400"}))],2),e("span",bt,n(t.$t("modals.settings.sidebar")),1)]),e("button",{onClick:o[5]||(o[5]=(...s)=>a(Y)&&a(Y)(...s)),class:c(["px-3 py-1.5 text-xs rounded-lg font-medium transition-all",a(j)==="left"?"bg-white/10 text-zinc-300 hover:bg-white/20":"bg-sky-500/20 text-sky-400 hover:bg-sky-500/30"])},n(a(j)==="left"?t.$t("modals.settings.sidebarLeft"):t.$t("modals.settings.sidebarRight")),3)]),e("div",xt,[e("div",yt,[e("div",ft,[r(a(Oe),{class:"w-3.5 h-3.5 text-cyan-400"})]),e("span",wt,n(t.$t("modals.settings.language")),1)]),e("button",{onClick:o[6]||(o[6]=(...s)=>a(J)&&a(J)(...s)),class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-white/10 text-zinc-300 hover:bg-white/20"},n(t.$t("language."+a(re))),1)]),e("div",kt,[e("div",_t,[e("div",{class:c(["p-1.5 rounded-lg",a(A)?"bg-green-500/20":"bg-zinc-500/20"])},[a(A)?(l(),y(a(Fe),{key:0,class:"w-3.5 h-3.5 text-green-400"})):(l(),y(a(Ne),{key:1,class:"w-3.5 h-3.5 text-zinc-400"}))],2),e("span",$t,n(t.$t("modals.settings.soundNotifications")),1)]),e("button",{onClick:o[7]||(o[7]=(...s)=>a(Q)&&a(Q)(...s)),class:c(["px-3 py-1.5 text-xs rounded-lg font-medium transition-all",a(A)?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-white/10 text-zinc-300 hover:bg-white/20"])},n(a(A)?t.$t("modals.settings.soundOn"):t.$t("modals.settings.soundOff")),3)]),e("div",Mt,[e("div",zt,[e("div",Ct,[r(a(Te),{class:"w-3.5 h-3.5 text-pink-400"})]),e("span",Kt,n(t.$t("modals.settings.aiModels")),1)])]),e("div",St,[e("p",jt,n(t.$t("modals.settings.openrouterHelp")),1),e("div",null,[e("label",At,n(t.$t("modals.settings.mainModel")),1),x(e("select",{"onUpdate:modelValue":o[8]||(o[8]=s=>v.value=s),onChange:W,disabled:f.value,class:"w-full px-3 py-1.5 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none cursor-pointer disabled:opacity-50"},[f.value?(l(),d("option",It,n(t.$t("modals.settings.loadingModels")),1)):p("",!0),(l(!0),d(L,null,V(ge.value,s=>(l(),d("option",{key:s.id,value:s.id},n(s.name),9,Pt))),128))],40,Et),[[ae,v.value]])]),e("div",null,[e("label",Tt,n(t.$t("modals.settings.fastModel")),1),x(e("select",{"onUpdate:modelValue":o[9]||(o[9]=s=>m.value=s),onChange:W,disabled:f.value,class:"w-full px-3 py-1.5 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none cursor-pointer disabled:opacity-50"},[f.value?(l(),d("option",Vt,n(t.$t("modals.settings.loadingModels")),1)):p("",!0),(l(!0),d(L,null,V(he.value,s=>(l(),d("option",{key:s.id,value:s.id},n(s.name),9,Ot))),128))],40,Lt),[[ae,m.value]])])])],512),[[T,I.value]])]),e("div",qt,[e("button",{onClick:o[10]||(o[10]=s=>{M.value=!M.value,M.value&&a(ue)()}),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",Bt,[e("div",Rt,[r(a(U),{class:"w-4 h-4 text-violet-400"})]),e("span",Ht,n(t.$t("modals.settings.apiKeys")),1)]),r(a(O),{class:c(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":M.value}])},null,8,["class"])]),x(e("div",Zt,[b.value==="success"?(l(),d("p",Ft,n(t.$t("modals.settings.apiKeySaved")),1)):p("",!0),b.value==="error"?(l(),d("p",Nt,n(t.$t("modals.settings.apiKeyError")),1)):p("",!0),(l(),d(L,null,V(xe,s=>e("div",{key:s.name,class:"py-2"},[e("div",Gt,[e("div",Ut,[e("div",{class:c(["p-1.5 rounded-lg",s.iconBg])},[r(a(U),{class:c(["w-3.5 h-3.5",s.iconText])},null,8,["class"])],2),e("div",Xt,[e("span",Dt,n(t.$t("modals.settings."+s.label)),1),a($)[s.name]?.configured&&g.value!==s.name?(l(),d("span",Yt,n(a($)[s.name]?.masked),1)):p("",!0)])]),e("div",Jt,[a($)[s.name]?.configured&&g.value!==s.name?(l(),d("span",Qt,n(t.$t("modals.settings.apiKeyConfigured")),1)):!a($)[s.name]?.configured&&g.value!==s.name?(l(),d("span",Wt,n(t.$t("modals.settings.apiKeyNotSet")),1)):p("",!0),g.value!==s.name?(l(),d("button",{key:2,onClick:_=>ye(s.name),class:"px-2.5 py-1 text-xs rounded-lg font-medium transition-all bg-white/10 text-zinc-300 hover:bg-white/20"},n(a($)[s.name]?.configured?t.$t("modals.settings.apiKeyChange"):t.$t("modals.settings.apiKeySave")),9,es)):p("",!0)])]),g.value===s.name?(l(),d("div",ts,[e("div",ss,[x(e("input",{"onUpdate:modelValue":o[11]||(o[11]=_=>h.value=_),type:k.value?"text":"password",placeholder:"sk-...",class:"w-full px-3 py-1.5 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none focus:border-violet-500/50 font-mono pr-8",onKeydown:[oe(_=>te(s.name),["enter"]),oe(ee,["escape"])]},null,40,as),[[Ke,h.value]]),e("button",{onClick:o[12]||(o[12]=_=>k.value=!k.value),class:"absolute right-2 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300"},[k.value?(l(),y(a(Le),{key:1,class:"w-3.5 h-3.5"})):(l(),y(a(Ve),{key:0,class:"w-3.5 h-3.5"}))])]),e("button",{onClick:_=>te(s.name),disabled:F.value||!h.value.trim(),class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-violet-500/20 text-violet-400 hover:bg-violet-500/30 disabled:opacity-50 disabled:cursor-not-allowed"},n(t.$t("modals.settings.apiKeySave")),9,os),e("button",{onClick:ee,class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-white/10 text-zinc-300 hover:bg-white/20"},n(t.$t("common.cancel")),1)])):p("",!0)])),64))],512),[[T,M.value]])]),e("div",ns,[e("button",{onClick:o[13]||(o[13]=s=>{z.value=!z.value,z.value&&G()}),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",ls,[e("div",is,[r(a(U),{class:"w-4 h-4 text-orange-400"})]),e("span",ds,n(t.$t("modals.settings.zenoApiKeys")),1)]),r(a(O),{class:c(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":z.value}])},null,8,["class"])]),x(e("div",rs,[e("p",cs,n(t.$t("modals.settings.zenoApiKeysDesc")),1),(l(!0),d(L,null,V(se.value,s=>(l(),d("div",{key:s.id,class:"flex items-center justify-between py-1.5"},[e("div",us,[e("span",ps,n(s.masked),1),e("span",vs,n(s.created_at),1)]),e("button",{onClick:_=>we(s.id),class:"px-2 py-1 text-xs rounded-lg text-red-400 hover:bg-red-500/20 transition-all flex-shrink-0"},n(t.$t("common.delete")),9,ms)]))),128)),C.value?(l(),d("div",gs,[e("p",hs,n(t.$t("modals.settings.zenoApiKeyCopyHint")),1),e("div",bs,[e("code",xs,n(C.value),1),e("button",{onClick:o[14]||(o[14]=s=>ke(C.value)),class:"px-2 py-1 text-xs rounded-lg bg-green-500/20 text-green-400 hover:bg-green-500/30 transition-all flex-shrink-0"},n(N.value?t.$t("common.saved"):"Copy"),1)])])):p("",!0),e("button",{onClick:fe,disabled:P.value,class:"w-full px-3 py-2 text-xs rounded-lg font-medium transition-all bg-orange-500/20 text-orange-400 hover:bg-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed"},n(P.value?t.$t("common.loading"):t.$t("modals.settings.zenoApiKeyGenerate")),9,ys)],512),[[T,z.value]])]),e("button",{onClick:_e,class:"w-full flex items-center justify-between p-4 rounded-2xl bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/20 hover:border-blue-500/40 transition-all group"},[e("div",fs,[e("div",ws,[r(a(Pe),{class:"w-5 h-5 text-blue-400"})]),e("div",ks,[e("span",_s,n(t.$t("modals.settings.help")),1),e("p",$s,n(t.$t("modals.settings.helpDesc")),1)])]),r(a(qe),{class:"w-4 h-4 text-zinc-500 group-hover:text-blue-400 transition-colors"})])])],6)],2))}};export{Es as default};
