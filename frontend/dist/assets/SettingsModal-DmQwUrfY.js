import{E as Me,r as i,b as T,f as Ke,o as Se,e as r,i as l,l as e,L as d,u as a,A as o,B as b,I as c,O as L,C as je,H as x,p,F as V,j as q,Z as ne,D as le,$ as Ae,q as ie,K as Ee}from"./vue-core-Chol9MOc.js";import{c as u,u as Ie,b as Pe,d as re,X as Re,M as Te,a as B,e as Le,R as Ve}from"./index-CQWQlxH4.js";import"./tiptap-zBojtxx-.js";import"./markdown-B3lvOPUD.js";import"./highlight-BX1zPj8W.js";/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=u("CpuIcon",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=u("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=u("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=u("GlobeIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=u("HardDriveIcon",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=u("KeyRoundIcon",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=u("MessageCircleIcon",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=u("MoonIcon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=u("PanelLeftIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=u("PanelRightIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=u("SunIcon",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=u("Volume2Icon",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=u("VolumeXIcon",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Je={class:"flex-shrink-0 flex items-center justify-between p-6 border-b border-white/5"},Qe={class:"flex items-center gap-3"},We={class:"p-2 rounded-xl bg-white/5"},et={class:"text-lg font-semibold text-[var(--text-primary)]"},tt={class:"p-6 space-y-6 overflow-y-auto"},st={class:"border-b border-[var(--border-subtle)]"},at={class:"flex items-center gap-3"},ot={class:"p-2 rounded-lg bg-blue-500/20"},nt={class:"text-sm text-[var(--text-primary)]"},lt={class:"pl-4 pb-3 space-y-2"},it={class:"text-[10px] text-zinc-500"},rt=["placeholder"],dt={class:"flex items-center justify-between"},ct={class:"text-[10px] text-zinc-500"},ut=["disabled"],pt={class:"border-b border-[var(--border-subtle)]"},vt={class:"flex items-center gap-3"},mt={class:"p-2 rounded-lg bg-zinc-500/20"},gt={class:"text-sm text-[var(--text-primary)]"},ht={class:"pl-4 pb-3 space-y-1"},bt={class:"flex items-center justify-between py-2"},xt={class:"flex items-center gap-3"},yt={class:"text-sm text-[var(--text-secondary)]"},ft={class:"flex items-center justify-between py-2"},wt={class:"flex items-center gap-3"},kt={class:"text-sm text-[var(--text-secondary)]"},_t={class:"flex items-center justify-between py-2"},$t={class:"flex items-center gap-3"},zt={class:"p-1.5 rounded-lg bg-cyan-500/20"},Ct={class:"text-sm text-[var(--text-secondary)]"},Mt={class:"flex items-center justify-between py-2"},Kt={class:"flex items-center gap-3"},St={class:"text-sm text-[var(--text-secondary)]"},jt={class:"flex items-center justify-between py-2"},At={class:"flex items-center gap-3"},Et={class:"p-1.5 rounded-lg bg-pink-500/20"},It={class:"text-sm text-[var(--text-secondary)]"},Pt={class:"ml-9 mt-2 space-y-3 p-3 rounded-xl bg-[var(--bg-surface)]"},Rt={class:"text-[10px] text-zinc-500"},Tt={class:"text-[10px] text-zinc-500 mb-1 block"},Lt=["disabled"],Vt={key:0,value:""},qt=["value"],Bt={class:"text-[10px] text-zinc-500 mb-1 block"},Ot=["disabled"],Ht={key:0,value:""},Dt=["value"],Ut={class:"border-b border-[var(--border-subtle)]"},Nt={class:"flex items-center gap-3"},Zt={class:"p-2 rounded-lg bg-violet-500/20"},Ft={class:"text-sm text-[var(--text-primary)]"},Gt={class:"pl-4 pb-3 space-y-2"},Xt={key:0,class:"text-xs text-green-400 mb-1"},Yt={key:1,class:"text-xs text-red-400 mb-1"},Jt={class:"flex items-center justify-between"},Qt={class:"flex items-center gap-3 min-w-0"},Wt={class:"min-w-0"},es={class:"text-sm text-[var(--text-secondary)] block"},ts={key:0,class:"text-xs text-zinc-500 font-mono"},ss={class:"flex items-center gap-2 flex-shrink-0"},as={key:0,class:"px-2 py-0.5 text-[10px] rounded-full bg-green-500/20 text-green-400 font-medium"},os={key:1,class:"px-2 py-0.5 text-[10px] rounded-full bg-zinc-500/20 text-zinc-400 font-medium"},ns=["onClick"],ls={key:0,class:"mt-2 flex gap-2"},is={class:"relative flex-1"},rs=["type","onKeydown"],ds=["onClick","disabled"],cs={class:"border-b border-[var(--border-subtle)]"},us={class:"flex items-center gap-3"},ps={class:"p-2 rounded-lg bg-orange-500/20"},vs={class:"text-sm text-[var(--text-primary)]"},ms={class:"pl-4 pb-3 space-y-2"},gs={class:"text-[10px] text-zinc-500 mb-2"},hs={class:"flex items-center gap-2 min-w-0"},bs={class:"text-xs text-zinc-400 font-mono truncate"},xs={class:"text-[10px] text-zinc-600"},ys=["onClick"],fs={key:0,class:"p-3 rounded-xl bg-green-500/10 border border-green-500/20"},ws={class:"text-[10px] text-green-400 mb-1"},ks={class:"flex items-center gap-2"},_s={class:"text-xs text-green-300 font-mono break-all flex-1"},$s=["disabled"],zs={class:"flex items-center gap-3"},Cs={class:"p-2 rounded-xl bg-blue-500/20"},Ms={class:"text-left"},Ks={class:"text-sm font-medium text-[var(--text-primary)]"},Ss={class:"text-xs text-zinc-500"},js={class:"pt-2"},As={class:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-4"},Es={key:0,class:"mb-4 p-3 rounded-xl bg-[var(--bg-surface)]"},Is={class:"flex items-center justify-between text-xs mb-2"},Ps={class:"flex items-center gap-2"},Rs={class:"p-1.5 rounded-lg bg-blue-500/20"},Ts={class:"text-[var(--text-secondary)]"},Ls={class:"text-[var(--text-muted)]"},Vs={class:"h-2 bg-[var(--bg-base)] rounded-full overflow-hidden"},qs={class:"flex items-center justify-between py-3"},Bs={class:"flex items-center gap-3"},Os={class:"p-2 rounded-lg bg-orange-500/20"},Hs={class:"text-sm text-[var(--text-primary)]"},Ds={class:"text-xs text-zinc-500"},Us=["disabled"],Ns={key:0},Zs={key:1},Fs={key:2},Gs={key:1,class:"text-xs text-red-400 mt-2"},ea={__name:"SettingsModal",props:{restartCooldown:{type:Number,default:0},isRestarting:{type:Boolean,default:!1},restartError:{type:String,default:null}},emits:["close","request-restart"],setup(v,{emit:de}){const ce=de,O=Me("swipeState",{isDragging:i(!1),dragTarget:i(null),settingsDragOffset:i(0)}),H=T(()=>O.isDragging.value&&O.dragTarget.value==="settings"),ue=T(()=>H.value?{transform:`translateX(${O.settingsDragOffset.value}px)`}:{}),{getDiskUsage:pe}=Ie(),y=i(null),ve=T(()=>{if(!y.value)return"bg-blue-500";const t=y.value.used_percent;return t>=90?"bg-red-500":t>=75?"bg-amber-500":"bg-blue-500"}),{isDarkTheme:K,sidebarPosition:S,currentLanguage:me,soundEnabled:j,apiKeys:$,customSystemPrompt:D,customSystemPromptSaving:Y,saveCustomPrompt:ge,toggleTheme:J,toggleSidebarPosition:Q,toggleLanguage:W,toggleSound:ee,loadApiKeys:he,saveApiKey:be,saveOpenRouterModels:xe}=Pe(),U=i([]),A=i(""),E=i(""),f=i(!1),ye=async()=>{f.value=!0;try{const[t,n]=await Promise.all([fetch("/settings/openrouter-models"),fetch("/settings")]);if(t.ok){const s=await t.json();U.value=s.models||[]}if(n.ok){const s=await n.json();A.value=s.openrouter_model||"",E.value=s.openrouter_cheap_model||""}}catch(t){console.error("Failed to load models",t)}finally{f.value=!1}},te=async()=>{await xe(A.value,E.value)},I=i(!1),w=i(D.value||""),N=i(!1),fe=async()=>{await ge(w.value)&&(N.value=!0,setTimeout(()=>{N.value=!1},2e3))},P=i(!0),z=i(!1),m=i(null),g=i(""),Z=i(!1),h=i(null),k=i(!1),we=[{name:"openrouter_api_key",label:"openrouterApiKey",iconBg:"bg-pink-500/20",iconText:"text-pink-400"},{name:"serper_api_key",label:"serperApiKey",iconBg:"bg-cyan-500/20",iconText:"text-cyan-400"}],ke=t=>{m.value=t,g.value="",h.value=null,k.value=!1},se=()=>{m.value=null,g.value="",h.value=null,k.value=!1},ae=async t=>{if(!g.value.trim())return;Z.value=!0,h.value=null;const n=await be(t,g.value.trim());Z.value=!1,n?(h.value="success",m.value=null,g.value="",setTimeout(()=>{h.value=null},2e3)):h.value="error"},C=i(!1),oe=i([]),M=i(null),R=i(!1),F=i(!1),G=async()=>{try{const t=await fetch("/api/auth/api-keys");t.ok&&(oe.value=await t.json())}catch{}},_e=async()=>{R.value=!0,M.value=null;try{const t=await fetch("/api/auth/api-keys",{method:"POST"});if(t.ok){const n=await t.json();M.value=n.key,await G()}}catch{}R.value=!1},$e=async t=>{try{(await fetch(`/api/auth/api-keys/${t}`,{method:"DELETE"})).ok&&await G()}catch{}},ze=async t=>{try{await navigator.clipboard.writeText(t),F.value=!0,setTimeout(()=>{F.value=!1},2e3)}catch{}},Ce=()=>{ce("close"),window.$crisp&&(window.$crisp.push(["do","chat:show"]),window.$crisp.push(["do","chat:open"]))};return T(()=>{const t=window.location.hostname,n=t.split(".");return`https://app.${n.length>2?n.slice(1).join("."):t}/dashboard`}),Ke(D,t=>{w.value=t||""}),Se(async()=>{y.value=await pe(),ye()}),(t,n)=>(l(),r("div",{class:c(["fixed inset-0 z-50",["md:bg-black/60 md:backdrop-blur-sm md:flex md:items-center md:justify-center md:p-4","bg-black/30 backdrop-blur-sm",H.value?"":"transition-colors duration-300"]]),onClick:n[16]||(n[16]=Ee(s=>t.$emit("close"),["self"]))},[e("div",{class:c(["glass-solid flex flex-col overflow-hidden",["fixed top-0 bottom-0 right-0 w-[calc(100vw-40px)] max-w-sm rounded-l-3xl rounded-tr-none rounded-br-none","md:static md:rounded-3xl md:w-full md:max-w-md md:max-h-[calc(100dvh-2rem)] md:animate-modal-enter",H.value?"":"transition-transform duration-300"]]),style:ie(ue.value)},[n[17]||(n[17]=e("div",{class:"absolute top-0 left-8 right-8 h-px bg-gradient-to-r from-transparent via-zinc-500/50 to-transparent"},null,-1)),e("div",Je,[e("div",Qe,[e("div",We,[d(a(re),{class:"w-5 h-5 text-zinc-400"})]),e("h2",et,o(t.$t("modals.settings.title")),1)]),e("button",{onClick:n[0]||(n[0]=s=>t.$emit("close")),class:"p-2 rounded-xl text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-surface)] transition-all"},[d(a(Re),{class:"w-5 h-5"})])]),e("div",tt,[e("div",st,[e("button",{onClick:n[1]||(n[1]=s=>I.value=!I.value),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",at,[e("div",ot,[d(a(Te),{class:"w-4 h-4 text-blue-400"})]),e("span",nt,o(t.$t("modals.settings.customInstructions")),1)]),d(a(B),{class:c(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":I.value}])},null,8,["class"])]),b(e("div",lt,[e("p",it,o(t.$t("modals.settings.customInstructionsDesc")),1),b(e("textarea",{"onUpdate:modelValue":n[2]||(n[2]=s=>w.value=s),placeholder:t.$t("modals.settings.customInstructionsPlaceholder"),rows:"4",maxlength:1e4,class:"w-full px-3 py-2 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none focus:border-blue-500/50 resize-y min-h-[80px] max-h-[200px]"},null,8,rt),[[je,w.value]]),e("div",dt,[e("span",ct,o(w.value.length)+" / 10,000",1),e("button",{onClick:fe,disabled:a(Y)||w.value===a(D),class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 disabled:opacity-50 disabled:cursor-not-allowed"},o(a(Y)?t.$t("common.saving"):N.value?t.$t("common.saved"):t.$t("common.save")),9,ut)])],512),[[L,I.value]])]),e("div",pt,[e("button",{onClick:n[3]||(n[3]=s=>P.value=!P.value),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",vt,[e("div",mt,[d(a(re),{class:"w-4 h-4 text-zinc-400"})]),e("span",gt,o(t.$t("modals.settings.preferences")),1)]),d(a(B),{class:c(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":P.value}])},null,8,["class"])]),b(e("div",ht,[e("div",bt,[e("div",xt,[e("div",{class:c(["p-1.5 rounded-lg",a(K)?"bg-blue-500/20":"bg-amber-500/20"])},[a(K)?(l(),x(a(Ne),{key:0,class:"w-3.5 h-3.5 text-blue-400"})):(l(),x(a(Ge),{key:1,class:"w-3.5 h-3.5 text-amber-500"}))],2),e("span",yt,o(t.$t("modals.settings.theme")),1)]),e("button",{onClick:n[4]||(n[4]=(...s)=>a(J)&&a(J)(...s)),class:c(["px-3 py-1.5 text-xs rounded-lg font-medium transition-all",a(K)?"bg-white/10 text-zinc-300 hover:bg-white/20":"bg-amber-500/20 text-amber-600 hover:bg-amber-500/30"])},o(a(K)?t.$t("modals.settings.themeDark"):t.$t("modals.settings.themeLight")),3)]),e("div",ft,[e("div",wt,[e("div",{class:c(["p-1.5 rounded-lg",a(S)==="left"?"bg-blue-500/20":"bg-sky-500/20"])},[a(S)==="left"?(l(),x(a(Ze),{key:0,class:"w-3.5 h-3.5 text-blue-400"})):(l(),x(a(Fe),{key:1,class:"w-3.5 h-3.5 text-sky-400"}))],2),e("span",kt,o(t.$t("modals.settings.sidebar")),1)]),e("button",{onClick:n[5]||(n[5]=(...s)=>a(Q)&&a(Q)(...s)),class:c(["px-3 py-1.5 text-xs rounded-lg font-medium transition-all",a(S)==="left"?"bg-white/10 text-zinc-300 hover:bg-white/20":"bg-sky-500/20 text-sky-400 hover:bg-sky-500/30"])},o(a(S)==="left"?t.$t("modals.settings.sidebarLeft"):t.$t("modals.settings.sidebarRight")),3)]),e("div",_t,[e("div",$t,[e("div",zt,[d(a(He),{class:"w-3.5 h-3.5 text-cyan-400"})]),e("span",Ct,o(t.$t("modals.settings.language")),1)]),e("button",{onClick:n[6]||(n[6]=(...s)=>a(W)&&a(W)(...s)),class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-white/10 text-zinc-300 hover:bg-white/20"},o(t.$t("language."+a(me))),1)]),e("div",Mt,[e("div",Kt,[e("div",{class:c(["p-1.5 rounded-lg",a(j)?"bg-green-500/20":"bg-zinc-500/20"])},[a(j)?(l(),x(a(Xe),{key:0,class:"w-3.5 h-3.5 text-green-400"})):(l(),x(a(Ye),{key:1,class:"w-3.5 h-3.5 text-zinc-400"}))],2),e("span",St,o(t.$t("modals.settings.soundNotifications")),1)]),e("button",{onClick:n[7]||(n[7]=(...s)=>a(ee)&&a(ee)(...s)),class:c(["px-3 py-1.5 text-xs rounded-lg font-medium transition-all",a(j)?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-white/10 text-zinc-300 hover:bg-white/20"])},o(a(j)?t.$t("modals.settings.soundOn"):t.$t("modals.settings.soundOff")),3)]),e("div",jt,[e("div",At,[e("div",Et,[d(a(qe),{class:"w-3.5 h-3.5 text-pink-400"})]),e("span",It,o(t.$t("modals.settings.aiModels")),1)])]),e("div",Pt,[e("p",Rt,o(t.$t("modals.settings.openrouterHelp")),1),e("div",null,[e("label",Tt,o(t.$t("modals.settings.mainModel")),1),b(e("select",{"onUpdate:modelValue":n[8]||(n[8]=s=>A.value=s),onChange:te,disabled:f.value,class:"w-full px-3 py-1.5 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none cursor-pointer disabled:opacity-50"},[f.value?(l(),r("option",Vt,o(t.$t("modals.settings.loadingModels")),1)):p("",!0),(l(!0),r(V,null,q(U.value,s=>(l(),r("option",{key:s.id,value:s.id},o(s.name),9,qt))),128))],40,Lt),[[ne,A.value]])]),e("div",null,[e("label",Bt,o(t.$t("modals.settings.fastModel")),1),b(e("select",{"onUpdate:modelValue":n[9]||(n[9]=s=>E.value=s),onChange:te,disabled:f.value,class:"w-full px-3 py-1.5 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none cursor-pointer disabled:opacity-50"},[f.value?(l(),r("option",Ht,o(t.$t("modals.settings.loadingModels")),1)):p("",!0),(l(!0),r(V,null,q(U.value,s=>(l(),r("option",{key:s.id,value:s.id},o(s.name),9,Dt))),128))],40,Ot),[[ne,E.value]])])])],512),[[L,P.value]])]),e("div",Ut,[e("button",{onClick:n[10]||(n[10]=s=>{z.value=!z.value,z.value&&a(he)()}),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",Nt,[e("div",Zt,[d(a(X),{class:"w-4 h-4 text-violet-400"})]),e("span",Ft,o(t.$t("modals.settings.apiKeys")),1)]),d(a(B),{class:c(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":z.value}])},null,8,["class"])]),b(e("div",Gt,[h.value==="success"?(l(),r("p",Xt,o(t.$t("modals.settings.apiKeySaved")),1)):p("",!0),h.value==="error"?(l(),r("p",Yt,o(t.$t("modals.settings.apiKeyError")),1)):p("",!0),(l(),r(V,null,q(we,s=>e("div",{key:s.name,class:"py-2"},[e("div",Jt,[e("div",Qt,[e("div",{class:c(["p-1.5 rounded-lg",s.iconBg])},[d(a(X),{class:c(["w-3.5 h-3.5",s.iconText])},null,8,["class"])],2),e("div",Wt,[e("span",es,o(t.$t("modals.settings."+s.label)),1),a($)[s.name]?.configured&&m.value!==s.name?(l(),r("span",ts,o(a($)[s.name]?.masked),1)):p("",!0)])]),e("div",ss,[a($)[s.name]?.configured&&m.value!==s.name?(l(),r("span",as,o(t.$t("modals.settings.apiKeyConfigured")),1)):!a($)[s.name]?.configured&&m.value!==s.name?(l(),r("span",os,o(t.$t("modals.settings.apiKeyNotSet")),1)):p("",!0),m.value!==s.name?(l(),r("button",{key:2,onClick:_=>ke(s.name),class:"px-2.5 py-1 text-xs rounded-lg font-medium transition-all bg-white/10 text-zinc-300 hover:bg-white/20"},o(a($)[s.name]?.configured?t.$t("modals.settings.apiKeyChange"):t.$t("modals.settings.apiKeySave")),9,ns)):p("",!0)])]),m.value===s.name?(l(),r("div",ls,[e("div",is,[b(e("input",{"onUpdate:modelValue":n[11]||(n[11]=_=>g.value=_),type:k.value?"text":"password",placeholder:"sk-...",class:"w-full px-3 py-1.5 text-xs rounded-lg bg-[var(--bg-elevated)] text-[var(--text-primary)] border border-[var(--border-subtle)] outline-none focus:border-violet-500/50 font-mono pr-8",onKeydown:[le(_=>ae(s.name),["enter"]),le(se,["escape"])]},null,40,rs),[[Ae,g.value]]),e("button",{onClick:n[12]||(n[12]=_=>k.value=!k.value),class:"absolute right-2 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300"},[k.value?(l(),x(a(Be),{key:1,class:"w-3.5 h-3.5"})):(l(),x(a(Oe),{key:0,class:"w-3.5 h-3.5"}))])]),e("button",{onClick:_=>ae(s.name),disabled:Z.value||!g.value.trim(),class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-violet-500/20 text-violet-400 hover:bg-violet-500/30 disabled:opacity-50 disabled:cursor-not-allowed"},o(t.$t("modals.settings.apiKeySave")),9,ds),e("button",{onClick:se,class:"px-3 py-1.5 text-xs rounded-lg font-medium transition-all bg-white/10 text-zinc-300 hover:bg-white/20"},o(t.$t("common.cancel")),1)])):p("",!0)])),64))],512),[[L,z.value]])]),e("div",cs,[e("button",{onClick:n[13]||(n[13]=s=>{C.value=!C.value,C.value&&G()}),class:"w-full flex items-center justify-between py-3 text-left"},[e("div",us,[e("div",ps,[d(a(X),{class:"w-4 h-4 text-orange-400"})]),e("span",vs,o(t.$t("modals.settings.zenoApiKeys")),1)]),d(a(B),{class:c(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":C.value}])},null,8,["class"])]),b(e("div",ms,[e("p",gs,o(t.$t("modals.settings.zenoApiKeysDesc")),1),(l(!0),r(V,null,q(oe.value,s=>(l(),r("div",{key:s.id,class:"flex items-center justify-between py-1.5"},[e("div",hs,[e("span",bs,o(s.masked),1),e("span",xs,o(s.created_at),1)]),e("button",{onClick:_=>$e(s.id),class:"px-2 py-1 text-xs rounded-lg text-red-400 hover:bg-red-500/20 transition-all flex-shrink-0"},o(t.$t("common.delete")),9,ys)]))),128)),M.value?(l(),r("div",fs,[e("p",ws,o(t.$t("modals.settings.zenoApiKeyCopyHint")),1),e("div",ks,[e("code",_s,o(M.value),1),e("button",{onClick:n[14]||(n[14]=s=>ze(M.value)),class:"px-2 py-1 text-xs rounded-lg bg-green-500/20 text-green-400 hover:bg-green-500/30 transition-all flex-shrink-0"},o(F.value?t.$t("common.saved"):"Copy"),1)])])):p("",!0),e("button",{onClick:_e,disabled:R.value,class:"w-full px-3 py-2 text-xs rounded-lg font-medium transition-all bg-orange-500/20 text-orange-400 hover:bg-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed"},o(R.value?t.$t("common.loading"):t.$t("modals.settings.zenoApiKeyGenerate")),9,$s)],512),[[L,C.value]])]),e("button",{onClick:Ce,class:"w-full flex items-center justify-between p-4 rounded-2xl bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/20 hover:border-blue-500/40 transition-all group"},[e("div",zs,[e("div",Cs,[d(a(Le),{class:"w-5 h-5 text-blue-400"})]),e("div",Ms,[e("span",Ks,o(t.$t("modals.settings.help")),1),e("p",Ss,o(t.$t("modals.settings.helpDesc")),1)])]),d(a(Ue),{class:"w-4 h-4 text-zinc-500 group-hover:text-blue-400 transition-colors"})]),e("div",js,[e("h3",As,o(t.$t("modals.settings.system")),1),y.value?(l(),r("div",Es,[e("div",Is,[e("div",Ps,[e("div",Rs,[d(a(De),{class:"w-3.5 h-3.5 text-blue-400"})]),e("span",Ts,o(t.$t("sidebar.storage")),1)]),e("span",Ls,o(t.$t("sidebar.storageUsed",{used:y.value.used_human,total:y.value.total_human})),1)]),e("div",Vs,[e("div",{class:c(["h-full rounded-full transition-all duration-300",ve.value]),style:ie({width:y.value.used_percent+"%"})},null,6)])])):p("",!0),e("div",qs,[e("div",Bs,[e("div",Os,[d(a(Ve),{class:c(["w-4 h-4 text-orange-400",{"animate-spin":v.isRestarting}])},null,8,["class"])]),e("div",null,[e("span",Hs,o(t.$t("modals.settings.restartContainer")),1),e("p",Ds,o(t.$t("modals.settings.restartContainerDesc")),1)])]),e("button",{onClick:n[15]||(n[15]=s=>t.$emit("request-restart")),disabled:v.restartCooldown>0||v.isRestarting,class:c(["px-4 py-2 text-sm rounded-xl font-medium transition-all",v.restartCooldown>0||v.isRestarting?"bg-zinc-500/20 text-zinc-500 cursor-not-allowed":"bg-orange-500/20 text-orange-400 hover:bg-orange-500/30 border border-orange-500/20"])},[v.isRestarting?(l(),r("span",Ns,o(t.$t("modals.settings.restarting")),1)):v.restartCooldown>0?(l(),r("span",Zs,o(v.restartCooldown)+"s",1)):(l(),r("span",Fs,o(t.$t("modals.settings.restart")),1))],10,Us)]),v.restartError?(l(),r("p",Gs,o(v.restartError),1)):p("",!0)])])],6)],2))}};export{ea as default};
